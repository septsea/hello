# 恰由 0 与 2 构成的身份证号

By **septsea**, *January 11, 2020*

请用 PC 视图访问本页面。

Long time no see.

我总算结束了全部考试。我不知道自己考怎么样。总之接下来的 40 多日里总会更新一些东西的。

之后的文章一般都会放在支持 MarkDown 的平台上展示了。之前因为不太熟练, 把文章发到 CSDN 上, 但是 CSDN 上广告也不少。我会尽量使用码云存放内容的。

今天我就想 water exp。前几日, 您应该看到这样的热搜:

> 由 2 和 0 组成的身份证靓号: `22020220200202XXXX`

今天就来探讨一下 `XXXX` 到底是什么。

对一个身份证号 $d_{18}d_{17} \cdots d_{3}d_{2}d_{1}$ 而言, 最后一位 $d_{1}$ 称为**校验码**。

令

$$
w_i = 2^{i - 1} \text{ mod } 11
$$

$$
S = \sum_{i = 2} ^ {18} w_i d_i
$$

$$
r = S \text{ mod } 11
$$

其中 $a \text{ mod } b$ 表示 $b$ 除 $a$ 的余数。于是校验码

$$
d_1 = (12 - r) \text{ mod } 11
$$

当校验码为 10 的时候, 将它写为 `X`。这里, 我提供一个表格, 方便您计算:

|    $i$    |  18  |  17  |  16  |  15  |  14  |  13  |  12  |  11  |  10  |  9   |  8   |  7   |  6   |  5   |  4   |  3   |  2   |
| :-------: | :--: | :--: | :--: | :--: | :--: | :--: | :--: | :--: | :--: | :--: | :--: | :--: | :--: | :--: | :--: | :--: | :--: |
|   $w_i$   |  7   |  9   |  10  |  5   |  8   |  4   |  2   |  1   |  6   |  3   |  7   |  9   |  10  |  5   |  8   |  4   |  2   |
|   $d_i$   |      |      |      |      |      |      |      |      |      |      |      |      |      |      |      |      |      |
| $w_i d_i$ |      |      |      |      |      |      |      |      |      |      |      |      |      |      |      |      |      |

我们用这个表格来预测 `XXXX` 到底是什么。首先, 写出表格:

|    $i$    |  18  |  17  |  16  |  15  |  14  |  13  |  12  |  11  |  10  |  9   |  8   |  7   |  6   |  5   |   4    |   3    |   2    |
| :-------: | :--: | :--: | :--: | :--: | :--: | :--: | :--: | :--: | :--: | :--: | :--: | :--: | :--: | :--: | :----: | :----: | :----: |
|   $w_i$   |  7   |  9   |  10  |  5   |  8   |  4   |  2   |  1   |  6   |  3   |  7   |  9   |  10  |  5   |   8    |   4    |   2    |
|   $d_i$   |  2   |  2   |  0   |  2   |  0   |  2   |  2   |  0   |  2   |  0   |  0   |  2   |  0   |  2   | $d_4$  | $d_3$  | $d_2$  |
| $w_i d_i$ |  14  |  18  |  0   |  10  |  0   |  8   |  4   |  0   |  12  |  0   |  0   |  18  |  0   |  10  | $8d_4$ | $4d_3$ | $2d_2$ |

从而 $S = 94 + 8d_4 + 4d_3 + 2d_2$。11 除 $S$ 的余数就是 11 除 $6 + 8d_4 + 4d_3 + 2d_2$ 的余数, 而且 11 除 $12 - x$ 的余数就是 11 除 $34 - x$ 的余数, 从而

$$
d_1 = (28 - 2(4d_4 + 2d_3 + d_2)) \text{ mod } 11
$$

因为我们是找靓号, 所以 $d_4, d_3, d_2$ 只取 0 或 2。我们不难列出 8 种情形:

| $d_4$ | $d_3$ | $d_2$ | $28 - 2(4d_4 + 2d_3 + d_2)$ | $d_1$ |
| :---: | :---: | :---: | :-------------------------: | :---: |
|   0   |   0   |   0   |             28              |   6   |
|   0   |   0   |   2   |             24              | **2** |
|   0   |   2   |   0   |             20              |   9   |
|   0   |   2   |   2   |             16              |   5   |
|   2   |   0   |   0   |             12              |   1   |
|   2   |   0   |   2   |              8              |   8   |
|   2   |   2   |   0   |              4              |   4   |
|   2   |   2   |   2   |              0              | **0** |

所以最多有这二个靓号:

- `220202202002020022`
- `220202202002022220`

感谢您的阅读。
